<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.fila.app.mapper.mypage.qna.MypageQnaMapper">

    <select id="selectCategoryList"
        resultType="com.fila.app.domain.mypage.qna.MypageQnaCategoryVO">
        SELECT category_id   AS categoryId,
               category_name AS categoryName
        FROM inquiry_category
    </select>
    
    <select id="selectMyQnaList"
    parameterType="string"
    resultType="com.fila.app.domain.mypage.qna.MypageQnaVO">
    SELECT
        qna_id      AS qnaId,
        member_id   AS memberId,
        category_id AS categoryId,
        title,
        content,
        status,
        reg_date    AS regDate
    FROM qna
    WHERE member_id = #{memberId}
    ORDER BY qna_id DESC
</select>
    

    <insert id="insertQna"
        parameterType="com.fila.app.domain.mypage.qna.MypageQnaVO">
        INSERT INTO qna (
            qna_id, member_id, category_id, title, content, status
        ) VALUES (
            qna_seq.NEXTVAL,
            #{memberId},
            #{categoryId},
            #{title},
            #{content},
            'WAIT'
        )
        
        
    </insert>

</mapper>
